<main [class.xs]="isXs | async">
  <article>
    <app-container>
      <h1 class="main-title" [ngClass]="(isXs | async) ? 'mat-headline-2' : 'mat-headline-1'">Glint</h1>
      <h2 class="sub-title">A Graphical interface for Git</h2>
      <div class="download-links" *ngIf="release | async as releaseData">
        <a [href]="releaseData.link">
          <button mat-flat-button class="download-button" color="accent">
            <div class="os-icon" *ngIf="releaseData.platform === 'Windows'"><svg><use xlink:href="assets/windows.svg#svg"></use></svg></div>
            <div class="os-icon" *ngIf="releaseData.platform === 'Mac'" [style.margin-top.px]="-4">
              <svg><use xlink:href="assets/mac.svg#svg"></use></svg>
            </div>
            <div class="os-icon" *ngIf="releaseData.platform === 'Linux'"><svg><use xlink:href="assets/linux.svg#svg"></use></svg></div>
            <div class="os-icon" *ngIf="releaseData.platform === 'Other'"><mat-icon>file_download</mat-icon></div>
            Free Download{{ releaseData.platform === 'Other' ? '' : ' for ' + releaseData.platform }}
          </button>
        </a>
        <a *ngIf="releaseData.platform !== 'Other'" routerLink="/download" class="download-other">Other platform downloads</a>
      </div>

      <a *ngIf="(ltMd | async) === false" routerLink="/playground" class="screenshot">
        <img src="/assets/screenshot.png" alt="Screenshot of Glint">
      </a>
      <img *ngIf="ltMd | async" class="screenshot" src="/assets/screenshot.png" alt="Screenshot of Glint">
    </app-container>
  </article>

  <article class="banner">
    <app-container>
      <div>
        <h2 class="title" [ngClass]="(ltMd | async) ? 'mat-headline-4' : 'mat-headline-3'">Sleek &amp; Powerful</h2>
        <p class="text" [style.margin-bottom.px]="(isXs | async) ? 20 : 40">Perform complex tasks without breaking a sweat.</p>
        <div class="feature-image" [@fade]="currentFeature | async">
          <img [class.show]="(lastFeature | async) === 'search'" src="/assets/features/search.png" alt="">
          <img [class.show]="(lastFeature | async) === 'merge'" src="/assets/features/merge.png" alt="">
          <img [class.show]="(lastFeature | async) === 'edit'" src="/assets/features/edit.png" alt="">
          <img [class.show]="(lastFeature | async) === 'move'" src="/assets/features/move.png" alt="">
          <img [class.show]="(lastFeature | async) === 'resolve'" src="/assets/features/resolve.png" alt="">
        </div>
      </div>
      <div>
        <ul (mouseleave)="currentFeature.next('none')">
          <li (mouseenter)="currentFeature.next('merge')">
            <mat-icon>merge_type</mat-icon>Manage multiple merges simultaneously
          </li>
          <li (mouseenter)="currentFeature.next('search')">
            <mat-icon>search</mat-icon>Search within files &amp; commits
          </li>
          <li (mouseenter)="currentFeature.next('edit')"><mat-icon>edit</mat-icon>Rewrite commit history</li>
          <li (mouseenter)="currentFeature.next('move')">
            <mat-icon>move_up</mat-icon>Move branches manually
          </li>
          <li (mouseenter)="currentFeature.next('resolve')">
            <mat-icon>build</mat-icon>Resolve merge conflicts 4-way
          </li>
          <!-- <li><mat-icon>compress</mat-icon>Squash commits</li> -->
        </ul>
      </div>
    </app-container>
  </article>

  <article class="banner">
    <app-container>
      <div>
        <h2 class="title" [ngClass]="(ltMd | async) ? 'mat-headline-4' : 'mat-headline-3'">Streamlined for performance</h2>
        <!-- <p class="text">Work unconstrained. A smooth, drama-free experience.</p> -->
        <p class="text">Enjoy a smooth, effortless experience built from the ground up to run fast.</p>
      </div>
      <div>
        <ul>
          <li><mat-icon>dynamic_feed</mat-icon>Bloat-free</li>
          <li><mat-icon>hourglass_top</mat-icon>Minimal loading times</li>
          <li><mat-icon>block</mat-icon>No UI blocking</li>
        </ul>
      </div>
    </app-container>
  </article>

  <article class="banner">
    <app-container>
      <div>
        <h2 class="title" [ngClass]="(ltMd | async) ? 'mat-headline-4' : 'mat-headline-3'">Cross Platform</h2>
        <p class="text">Works on all desktop platforms.</p>
      </div>
      <div>
        <ul>
          <li>
            <div class="os-icon"><svg><use xlink:href="assets/windows.svg#svg"></use></svg></div>
            Windows
          </li>
          <li>
            <div class="os-icon"><svg><use xlink:href="assets/mac.svg#svg"></use></svg></div>
            macOS
          </li>
          <li>
            <div class="os-icon"><svg><use xlink:href="assets/linux.svg#svg"></use></svg></div>
            Linux
          </li>
        </ul>
      </div>
    </app-container>
  </article>

  <article class="banner">
    <app-container>
      <div>
        <h2 class="title" [ngClass]="(ltMd | async) ? 'mat-headline-4' : 'mat-headline-3'">Free to use</h2>
        <p class="text">
          See the <a routerLink="/features" class="link">features</a> page for more details.
        </p>
      </div>
      <div>
        <ul>
          <li><mat-icon>money_off</mat-icon>All essential features completely free</li>
          <li><mat-icon fontSet="material-icons-outlined">timer_off</mat-icon>No time limits or trial periods</li>
          <li><mat-icon>attach_money</mat-icon>Upgrade to Premium for bonus features and to support development</li>
        </ul>
      </div>
    </app-container>
  </article>

  <article class="download-section" [style.padding-top.px]="(isXs | async) ? 0 : 30">
    <app-download></app-download>
  </article>
</main>
